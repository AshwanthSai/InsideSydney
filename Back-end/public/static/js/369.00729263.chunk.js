"use strict";(self.webpackChunkinsidesydney=self.webpackChunkinsidesydney||[]).push([[369],{6369:(e,s,n)=>{n.r(s),n.d(s,{default:()=>C});var a=n(5043),c=n(9954),r=n(3069),t=n(5400),i=n(5899),o=n(579);const l=e=>{const{location:s}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(i.J8,{position:s,children:(0,o.jsx)(i.yU,{background:"#FBBC04",glyphColor:"#000",borderColor:"#000"})},"Opera House")})},d=e=>{const{center:s,zoom:n}=e;return(0,o.jsx)(i.c4,{apiKey:"AIzaSyCJpI2c3iNZD0oIyEbaBXd2uwidQ5ED1bc",onLoad:()=>console.log("Maps API has loaded."),children:(0,o.jsx)(i.T5,{defaultZoom:n,defaultCenter:s,mapId:"DEMO_MAP_ID",children:(0,o.jsx)(l,{location:s})})})},h=e=>(0,o.jsxs)("div",{className:"map ".concat(e.className),style:e.style,children:["jsx",(0,o.jsx)(d,{...e})]});var x=n(7837),j=n(5066),m=n(1318),p=n(7606);const u=e=>{const{isLoggedIn:s,userId:n,token:i}=(0,a.useContext)(x.A),[l,d]=(0,a.useState)(!1),u=()=>d(!1),{isLoading:y,error:A,sendRequest:C,clearError:g}=(0,j.A)(),[E,_]=(0,a.useState)(!1);return(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(m.A,{error:A,onClear:g}),(0,o.jsx)(r.A,{show:l,onCancel:u,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:(0,o.jsx)(t.A,{onClick:u,children:"CLOSE"}),children:(0,o.jsx)("div",{className:"map-container",children:(0,o.jsx)(h,{center:e.coordinates,zoom:16})})}),(0,o.jsx)(r.A,{show:E,header:"Are you sure ?",footerClass:"place-item__modal-actions",footer:(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(t.A,{inverse:!0,onClick:()=>{_(!1)},children:"CANCEL"}),(0,o.jsx)(t.A,{danger:!0,onClick:()=>(()=>{_(!1);try{(async()=>{await C("".concat("https://insidesydney.onrender.com","/places/").concat(e.id),"DELETE",null,{Authorization:"Bearer "+i}),e.onDelete(e.id)})()}catch(A){}})(),children:"DELETE"})]}),children:(0,o.jsx)("p",{children:"Do you want to proceed and delete this place ? Please note that it cannot be undone thereafter."})}),(0,o.jsx)("li",{className:"place-item",children:(0,o.jsxs)(c.A,{className:"place-item__content",children:[y&&(0,o.jsx)(p.A,{asOverlay:!0}),(0,o.jsx)("div",{className:"place-item__image",children:(0,o.jsx)("img",{src:"".concat("https://insidesydney.onrender.com","\\")+e.image,alt:e.title})}),(0,o.jsxs)("div",{className:"place-item__info",children:[(0,o.jsx)("h2",{children:e.title}),(0,o.jsx)("h3",{children:e.address}),(0,o.jsx)("p",{children:e.description})]}),(0,o.jsxs)("div",{className:"place-item__actions",children:[(0,o.jsx)(t.A,{inverse:!0,onClick:()=>d(!0),children:"View on Map"}),s&&e.creatorId===n&&(0,o.jsx)(t.A,{to:"/places/".concat(e.id),children:"EDIT"}),s&&e.creatorId===n&&(0,o.jsx)(t.A,{danger:!0,onClick:()=>{_(!0)},children:"DELETE"})]})]})})]})},y=e=>0===e.places.length?(0,o.jsx)("div",{className:"place-list center",children:(0,o.jsxs)(c.A,{children:[(0,o.jsx)("h2",{children:"No places found. Maybe Create One?"}),(0,o.jsx)(t.A,{children:"Share Place"})]})}):(0,o.jsx)("ul",{className:"place-list",children:e.places.map((s=>(0,o.jsx)(u,{id:s.id,image:s.image,title:s.title,description:s.description,address:s.address,creatorId:s.creator,coordinates:s.location,onDelete:e.onDelete},s.id)))});var A=n(5323);const C=()=>{const[e,s]=(0,a.useState)(),{isLoading:n,error:c,sendRequest:r,clearError:t}=(0,j.A)(),i=(0,A.g)().userId;(0,a.useEffect)((()=>{(async()=>{try{const e=await r("".concat("https://insidesydney.onrender.com","/places/user/").concat(i));s(e.result)}catch(e){}})()}),[r,i]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.A,{error:c,onClear:t}),n&&(0,o.jsx)("div",{className:"center",children:(0,o.jsx)(p.A,{asOverlay:!0})}),!n&&e&&(0,o.jsx)(y,{places:e,onDelete:e=>{s((s=>s.filter((s=>s.id!==e))))}})]})}}}]);
//# sourceMappingURL=369.00729263.chunk.js.map