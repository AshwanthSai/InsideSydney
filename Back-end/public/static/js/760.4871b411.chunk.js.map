{"version":3,"file":"static/js/760.4871b411.chunk.js","mappings":"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","sources":["Shared/Components/FormElements/ImageUpload.jsx","Shared/Components/FormElements/Input.jsx","Shared/Components/hooks/useHook.js","Shared/Utils/validators.js","Users/Pages/Authenticate.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"./ImageUpload.css\"\r\nimport Button from \"./Button\";\r\n\r\nconst ImageUpload = (props) => {\r\n  const[file, setFile] = useState();\r\n  const[previewUrl, setPreviewUrl] = useState();\r\n  const[isValid, setIsValid] = useState(false);\r\n\r\n  const filePicker = useRef();\r\n  const pickHandler = (event) => {\r\n    filePicker.current.click();\r\n  }\r\n\r\n  /* \r\n    State changes are not immediate and\r\n    we are passing it upwards. Hence we use a proxy boolean\r\n    called fileValidity.\r\n  */\r\n  const pickedFileHandler = (event) => {\r\n    let pickedFile;\r\n    let fileValidity = isValid;\r\n    if(event.target.files && event.target.files.length === 1){\r\n      pickedFile = event.target.files[0]\r\n      setFile(pickedFile)\r\n      setIsValid(true)\r\n      fileValidity = true;\r\n    } else {\r\n      setIsValid(false)\r\n    }\r\n    // console.log(pickedFile)\r\n    // console.log(typeof pickedFile)\r\n    props.onInput(props.id, pickedFile,fileValidity)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!file) {\r\n      return;\r\n    }\r\n    /* \r\n      2, has to be specified before 1. \r\n      Clunky API\r\n    */\r\n    const fileReader = new FileReader();\r\n    // Set the onload event handler\r\n    fileReader.onload = () => {\r\n      //2\r\n      setPreviewUrl(fileReader.result); // Set the preview URL\r\n    };\r\n    // Start reading the file\r\n    //1\r\n    fileReader.readAsDataURL(file);\r\n  }, [file]);\r\n\r\n  return (\r\n  <React.Fragment>\r\n    <div className=\"form-control\">\r\n      <input \r\n        id = {props.id}\r\n        type=\"file\" \r\n        accept = \".jpg,.png,jpeg\" \r\n        style ={{display:\"none\"}}\r\n        ref = {filePicker}\r\n        onChange={pickedFileHandler}\r\n      />\r\n      <div className = {`image-upload ${props.center && \"center\"}`}>\r\n        <div className = \"image-upload__preview\" >\r\n          {previewUrl && <img src={previewUrl} alt= \"Preview\"/>}\r\n          {!previewUrl && <p>Please pick an image.</p>}\r\n        </div>\r\n        <Button type = \"button\" onClick={pickHandler}>Pick Image</Button>\r\n      </div>\r\n      {!isValid && <p>{props.errorText}</p>}\r\n    </div>\r\n  </React.Fragment>)\r\n};\r\n\r\nexport default ImageUpload;\r\n","import React, { useEffect, useReducer } from \"react\";\r\nimport \"./Input.css\"\r\nimport {validate} from \"../../Utils/validators\"\r\n\r\nconst inputReducer = (state, action) => {\r\n    switch(action.type) {\r\n        case \"CHANGE\" : \r\n            return {...state, \r\n                /* \r\n                    Overall validation of our individual component\r\n                    Is doing using this aux validate function within Validation.js\r\n                */\r\n                value : action.value, isValid: validate(action.value, action.validators)\r\n            }\r\n        /* \r\n            To prevent, first time validity check\r\n        */    \r\n        case \"TOUCHED\" : \r\n        return {...state, isTouched: action.isTouched}   \r\n        default :  \r\n            return state\r\n    }\r\n}\r\n\r\nconst Input = (props) => {\r\n    const[inputState,dispatch] = useReducer(inputReducer,\r\n        {\r\n            value: props.value || \"\", \r\n            isTouched: false, \r\n            isValid: props.validity || \"\"\r\n        }\r\n    )\r\n    \r\n    /* Change in Input, Push to Store */\r\n    const changeHandler = (event) => {\r\n        dispatch({type : \"CHANGE\",\r\n             value : event.target.value,\r\n             validators : props.validators\r\n            }\r\n        )\r\n    }\r\n    /* \r\n        For not showing an error the first time.\r\n    */\r\n    const blurHandler = (event) => {\r\n        dispatch({type : \"TOUCHED\",\r\n            isTouched : true\r\n           }\r\n       )\r\n    } \r\n\r\n    /* \r\n        If input prop type\r\n            input then small input\r\n            else render a Text Area. \r\n    */\r\n    const element =\r\n        props.element ===\"input\" ? (\r\n            <input id={props.id} type={props.type}\r\n             placeholder={props.placeholder}\r\n             value = {inputState.value}\r\n             onChange = {changeHandler}\r\n             onBlur={blurHandler}\r\n             />\r\n        ) : (\r\n            <textarea id={props.id} rows={props.rows || 3}\r\n             value = {inputState.value}\r\n             onChange = {changeHandler}\r\n             onBlur={blurHandler}\r\n            />\r\n        );\r\n    \r\n    const{id, onInput} = props\r\n    const{value,isValid} = inputState\r\n\r\n    /* On input pass to parent Form State*/\r\n    useEffect(() => {\r\n        onInput(id, value, isValid)\r\n    }, [onInput,value,isValid])\r\n  \r\n  return (\r\n    <div className={`form-control ${!inputState.isValid && inputState.isTouched && 'form-control--invalid'}`}>\r\n        <label htmlFor={props.id}>{props.label}</label>\r\n            {element}\r\n            {!inputState.isValid && inputState.isTouched && \r\n            <p>{props.errorText}</p>}\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default Input;\r\n","import React, { useCallback, useReducer } from \"react\";\r\n\r\n/* \r\n  Idea behind Form Hook is to \r\n  Check validity of entire Inputs\r\n\r\n  Internally uses Reducer for two way binding.\r\n    Child sends parent value and validity\r\n    We pass back state as value to input.\r\n\r\n    UseForm uses UseReducer for Entire form (All Inputs)\r\n      Input uses UseReducer for Entire Input\r\n*/\r\n\r\nconst formReducer = (state, action) => {\r\n    switch(action.type) {\r\n      /* Recompute Entire Form Validity */\r\n      case \"INPUT_CHANGE\": \r\n        let formIsValid = true;\r\n        /*\r\n          Loop through all the isValid fields within Inputs\r\n          Create a final is Form Valid Field.\r\n        */\r\n        for(const inputID in state.inputs){\r\n          /* If active element then add to inputs */\r\n          if(inputID === action.inputID){\r\n            formIsValid = formIsValid && action.isValid\r\n          } else {\r\n            /* If inactive, keep old state */\r\n            formIsValid = formIsValid && state.inputs[inputID].isValid\r\n          }\r\n        }\r\n        return {\r\n          /*\r\n            All Previous State Variables, \r\n            If we add anything in the future\r\n          */\r\n          ...state, \r\n         inputs : {\r\n          /* \r\n            All input items we have\r\n          */\r\n          ...state.inputs,\r\n          /* \r\n            Find the Appropriate input Type, update its value.\r\n            title : {value : newValue, isValid: newValue}\r\n          */\r\n          [action.inputID]  : {value : action.value, isValid: action.isValid}\r\n        },\r\n        /* Entire Form Validity */\r\n          isValid : formIsValid\r\n      }\r\n\r\n      case \"SET_DATA\": \r\n        return {\r\n          inputs : action.inputs,\r\n          isValid : action.formIsValid\r\n        }\r\n      /* If action does not match, Return old state */\r\n      default : \r\n        return {...state}\r\n    }\r\n}\r\n\r\n/*\r\n useHook does not accept props, but takes in argument\r\n Remember, this is a Hook.\r\n*/\r\n\r\nconst useForm = (InitialInput, InitialValidity) => {\r\n    const [formState,dispatch] = useReducer(formReducer, {\r\n        inputs: InitialInput,\r\n        /* For entire form */\r\n        isValid:InitialValidity\r\n    });\r\n\r\n    /* \r\n      Value changed in input, \r\n      Push to Global Store and \r\n      Recompute Global Validity.\r\n    */\r\n    const inputHandler = useCallback((id, value, isValid) => {\r\n        const eventType = \"INPUT_CHANGE\"\r\n        const inputID = id\r\n        dispatch({type: eventType, inputID, value, isValid})\r\n    },[]);\r\n\r\n    /* To set once, network request is resolved */\r\n    const setFormData =  useCallback((inputData, formValidity) => {\r\n      const eventType = \"SET_DATA\"\r\n      dispatch({eventType, inputs : inputData, formIsValid : formValidity})\r\n    },[])\r\n  \r\n  //Returning Initial State and Set Method for our Custom Hook\r\n  return [formState, inputHandler, setFormData];\r\n};\r\n\r\nexport default useForm;\r\n\r\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\nconst VALIDATOR_TYPE_MIN = 'MIN';\nconst VALIDATOR_TYPE_MAX = 'MAX';\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\nconst VALIDATOR_TYPE_FILE = 'FILE';\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = val => ({\n  type: VALIDATOR_TYPE_MINLENGTH,\n  val: val\n});\nexport const VALIDATOR_MAXLENGTH = val => ({\n  type: VALIDATOR_TYPE_MAXLENGTH,\n  val: val\n});\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\n/* \n  We call validate when there is a change in value.\n  Within Input Component, Which gets a isValid Boolean. From the function below\n\n  Value - Value of UseReducer State -> Numbers/Strings\n  Validators -> [VALIDATOR_REQUIRE(), VALIDATOR_FILE()]\n             -> [{type: VALIDATOR_TYPE_REQUIRE},{type: VALIDATOR_TYPE_FILE},{type: VALIDATOR_TYPE_EMAIL}]\n*/\nexport const validate = (value, validators) => {\n  let isValid = true;\n  for (const validator of validators) {\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n      isValid = isValid && value.trim().length > 0;\n    }\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n      isValid = isValid && value.trim().length >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n      isValid = isValid && value.trim().length <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MIN) {\n      isValid = isValid && +value >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAX) {\n      isValid = isValid && +value <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n    }\n  }\n  return isValid;\n};\n","import React, { useContext, useState } from \"react\";\r\nimport useForm from \"../../Shared/Components/hooks/useHook\";\r\nimport Input from \"../../Shared/Components/FormElements/Input\";\r\nimport { VALIDATOR_EMAIL, VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE} from \"../../Shared/Utils/validators\";\r\nimport Button from \"../../Shared/Components/FormElements/Button\";\r\nimport Card from \"../../Shared/Components/UIElements/Card\";\r\nimport AuthContext from \"../../Shared/Context/AuthContext\";\r\nimport \"./Authenticate.css\"\r\nimport LoadingSpinner from \"../../Shared/Components/FormElements/LoadingSpinner\";\r\nimport ErrorModal from \"../../Shared/Components/FormElements/ErrorModal\";\r\nimport useHttpClient from \"../../Shared/Components/hooks/http-hook\";\r\nimport { useHistory } from \"react-router-dom\"; \r\nimport ImageUpload from \"../../Shared/Components/FormElements/ImageUpload\";\r\n\r\n\r\nconst Authenticate = (props) => {\r\n    const {userId, logIn, logOut} = useContext(AuthContext)\r\n    const [isLogedInMode, setisLogedInMode] = useState(true);\r\n    // For Loading spinner.\r\n    /* For Modal */\r\n    const[formState, inputHandler, setFormState] = useForm({\r\n            email: {\r\n                value : \"\",\r\n                isValid: false\r\n            }, \r\n            password: {\r\n                value : \"\",\r\n                isValid: false\r\n            }, \r\n    }, true);\r\n\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    /* For automatic routing to Page */\r\n    const navigate = useHistory();\r\n\r\n    const authSubmitHandler = async(event) => {\r\n        /* Prevent Page reload on Form Submit */\r\n        event.preventDefault()\r\n        /* Sign Up Mode */      \r\n        if(!isLogedInMode) { \r\n            try{    \r\n                const formData = new FormData();\r\n                formData.append(\"name\", formState.inputs.name.value)\r\n                formData.append(\"email\", formState.inputs.email.value)\r\n                formData.append(\"password\",formState.inputs.email.value )\r\n                formData.append(\"image\",formState.inputs.image.value )\r\n                const responseData = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/signup`,\"POST\", \r\n                    formData\r\n                )\r\n                \r\n                // We are pulling out the User Id from the response of Login Data\r\n                console.log(responseData)\r\n                logIn(responseData.newUser.id,responseData.token)\r\n                navigate.push(\"/\") \r\n            } catch(err) {\r\n                /* All states are passed to Error above, we do not need to explicitly do anything */\r\n                console.log(err)\r\n            }\r\n        } else {\r\n            /* Login Mode */\r\n            try{\r\n                const responseData = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/login`,\"POST\", JSON.stringify({\r\n                    email : formState.inputs.email.value,\r\n                    password : formState.inputs.password.value,\r\n                }), {\"Content-Type\" : \"application/json\"})\r\n                console.log(responseData)\r\n                logIn(responseData.userExist.id, responseData.token)\r\n                navigate.push(\"/\") \r\n            } catch(err) {\r\n                console.log(error)\r\n                console.log(err)\r\n            }\r\n        }\r\n    }    \r\n\r\n    /* \r\n        In sign up, there is a new input field. i.e. Name\r\n        When you switch to login, it should be removed from FormState \r\n        or will affect overall Form Validity\r\n    */\r\n    const switchModeHandler = () => {\r\n        if(isLogedInMode) {\r\n            // Adding name input field to formState\r\n            // console.log(\"Sign up mode\")\r\n            console.log(formState)\r\n            const modifiedFormState = {...formState}\r\n            modifiedFormState.inputs.name =  {value : \"\", isValid : false}\r\n            modifiedFormState.inputs.image =  {value : null, isValid : false}\r\n            setFormState(modifiedFormState, formState.isValid)\r\n        } else {\r\n            /* Remove name input from formState.inputs */\r\n            // console.log(\"Log in mode\")\r\n            console.log(formState)\r\n            delete formState.inputs.name\r\n            delete formState.inputs.image\r\n        } \r\n        setisLogedInMode(previousState => !previousState);\r\n    }\r\n    \r\n    return(\r\n        <>\r\n            <ErrorModal error = {error} onClear = {clearError} />\r\n            <Card className=\"authentication\">   \r\n                {isLogedInMode ? (<h2> Log In </h2>) : (<h2> Sign Up </h2>)}\r\n                <hr/>\r\n                <form onSubmit={authSubmitHandler}>\r\n                {isLoading && <LoadingSpinner asOverlay/>}\r\n                {!isLogedInMode && (\r\n                    <Input\r\n                        element=\"input\" \r\n                        id= \"name\"\r\n                        type=\"text\" \r\n                        label=\"Name\"\r\n                        validators = {[VALIDATOR_MINLENGTH(5),VALIDATOR_REQUIRE()]} \r\n                        // [{type: VALIDATOR_TYPE_MINLENGTH,val: 5}, {type: VALIDATOR_TYPE_REQUIRE }]\r\n                        onInput = {inputHandler}\r\n                        errorText = \"Please enter a valid name\"\r\n                    />\r\n                )}\r\n                    <Input\r\n                        element=\"input\" \r\n                        id= \"email\"\r\n                        type=\"email\" \r\n                        label=\"Email\"\r\n                        validators = {[VALIDATOR_EMAIL(),VALIDATOR_REQUIRE()]} \r\n                        onInput = {inputHandler}\r\n                        errorText = \"Please enter a valid email\"\r\n                    />\r\n                    {!isLogedInMode && <ImageUpload center id=\"image\" onInput = {inputHandler} onError = \"Please Pick a Valid File\"/>}\r\n                    <Input\r\n                        element=\"input\" \r\n                        id= \"password\"\r\n                        type=\"password\" \r\n                        label=\"Password\"\r\n                        validators = {[VALIDATOR_REQUIRE(), VALIDATOR_MINLENGTH(6)]} \r\n                        // onInput pass back to parent store\r\n                        onInput = {inputHandler}\r\n                        errorText = \"Please enter a valid password\"\r\n                    />\r\n                    <Button type = \"submit\" \r\n                        // If entire form state is inValid then, disable form\r\n                        disabled = {!formState.isValid}>\r\n                        Submit \r\n                    </Button>\r\n                </form>\r\n                <Button inverse onClick = {() => switchModeHandler()}>\r\n                 Switch to {!isLogedInMode ? (\"Log In\") : (\"Sign Up\")}\r\n                </Button>\r\n            </Card>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Authenticate;\r\n"],"names":["props","file","setFile","useState","previewUrl","setPreviewUrl","isValid","setIsValid","filePicker","useRef","useEffect","fileReader","FileReader","onload","result","readAsDataURL","_jsx","React","children","_jsxs","className","id","type","accept","style","display","ref","onChange","event","pickedFile","fileValidity","target","files","length","onInput","concat","center","src","alt","Button","onClick","current","click","errorText","inputReducer","state","action","value","validate","validators","isTouched","inputState","dispatch","useReducer","validity","changeHandler","blurHandler","element","placeholder","onBlur","rows","htmlFor","label","formReducer","formIsValid","inputID","inputs","useForm","InitialInput","InitialValidity","formState","useCallback","inputData","formValidity","eventType","VALIDATOR_TYPE_REQUIRE","VALIDATOR_TYPE_MINLENGTH","VALIDATOR_TYPE_MAXLENGTH","VALIDATOR_TYPE_EMAIL","VALIDATOR_REQUIRE","VALIDATOR_MINLENGTH","val","VALIDATOR_EMAIL","validator","trim","test","userId","logIn","logOut","useContext","AuthContext","isLogedInMode","setisLogedInMode","inputHandler","setFormState","email","password","isLoading","error","sendRequest","clearError","useHttpClient","navigate","useHistory","_Fragment","ErrorModal","onClear","Card","onSubmit","async","preventDefault","responseData","process","JSON","stringify","console","log","userExist","token","push","err","formData","FormData","append","name","image","newUser","LoadingSpinner","asOverlay","Input","ImageUpload","onError","disabled","inverse","switchModeHandler","modifiedFormState","previousState"],"sourceRoot":""}